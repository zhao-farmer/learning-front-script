<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
  </head>
  <body>
    <button id="btn">点我一下</button>
    <button id="btn2">再点击一下</button>

    <script>
      /* 
            事件循环 （time loop）
                - 函数在每次执行时，都会产生一个执行环境
                - 执行环境负责存储函数执行时产生的一切数据
                - 问题： 函数的执行环境要存储到哪里?
                    - 函数的执行环境存储到了一个叫做调用栈的地方
                    - 栈，是一种数据结构，特点 后进先出
                    - 队列，是一种数据结构，特点 先进先出
                
                调用栈 （call stack）
                    - 调用栈负责存储函数的执行环境
                    - 当一个函数被调用时，它的执行环境会作为一个栈帧
                        插入到调用栈的顶，函数执行完毕其栈帧会自动从栈中弹出
                消息队列 
                    - 消息队列负责存储将要执行的函数
                    - 当我们触发一个事件时，其相应函数并不是直接添加到调用栈中的
                        因为调用栈中有可能会存在一些还没有执行完的代码
                    - 事件触发后，JS引擎时将事件相应函数插入到消息队列中排队
        */
      function fn() {
        let a = 10;
        let b = 20;

        function fn2() {
          console.log("fn2");
        }
        fn2();
        console.log("fn~");
      }
      fn();

      console.log(11111);
      const btn = document.getElementById("btn");
      btn.onclick = function () {
        // console.log("验证是否被点击了");

        alert(123);
        const begin = Date.now();

        while (Date.now() - begin < 3000) {}
      };

      const btn2 = document.getElementById("btn");
      btn2.onclick = function () {
        console.log("验证是否被点击了");
      };
    </script>
  </body>
</html>
