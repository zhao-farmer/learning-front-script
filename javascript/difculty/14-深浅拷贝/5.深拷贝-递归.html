<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <div></div>
    <script>
        const obj1 = {
            uname:'pink',
            age:18,
        }
        const o1 = {}
        // 拷贝函数-浅拷贝
        function shallowCopy(newObj,oldObj){
            for (const key in oldObj) {
                // key 属性名 oldObj[k] 属性值
                newObj[key] = oldObj[key]
            }
        }
        shallowCopy(o1,obj1) // 函数调用 两个参数 o 新对象 obj 旧对象

        o1.age = 20
        console.log(o1,obj1); // {uname: 'pink', age: 20} {uname: 'pink', age: 18}
        


        const obj2 = {
            uname:'pink',
            age:18,
            hobby:['兵乓球','足球'],
            family:{
                baby:'小pink'
            }
        }
        const o2 = {}
        // 拷贝函数-深拷贝
        function deepCopy(newObj,oldObj){
            for (const key in oldObj) {
                if(oldObj[key] instanceof Array){
                    // newObj[key]=[] 提前确认赋值类型
                    deepCopy(newObj[key]=[],oldObj[key])
                }else if(oldObj[key] instanceof Object){
                    // newObj[key]={} 提前确认赋值类型
                    deepCopy(newObj[key]={},oldObj[key])
                }else{
                    newObj[key] = oldObj[key]
                }
            }
        }
        deepCopy(o2,obj2)
        o2.age = 22;
        o2.hobby[0] = '篮球';
        console.log(o2,obj2);   // o2.hobby： ['篮球', '足球'] ['兵乓球', '足球']
        o2.family.baby = '老pink'
        console.log(o2,obj2);  // o2.family: {baby:'老pink'} {baby:'小pink'}


        // 为什么要险些数组？ 数组也属于对象
        console.log([1,2,3] instanceof Object); //true
        
    </script>
</body>
</html>